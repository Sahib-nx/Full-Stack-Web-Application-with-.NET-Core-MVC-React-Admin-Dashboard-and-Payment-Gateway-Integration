@* For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860 *@
@{
}

@model CRM.Models.ViewModel.HybridModel

    <link rel="stylesheet" href="~/css/Product.css" />


<!-- Hero Section -->
<div class="hero">
    <div class="container">
        <div class="row justify-content-between">
            <div class="col-lg-5">
                <div class="intro-excerpt">
                    <h1>Product Details</h1>
                </div>
            </div>
            <div class="col-lg-7">
                <!-- Space for hero image or pattern -->
                <div class="hero-pattern"></div>
            </div>
        </div>
    </div>
</div>

<!-- Product Detail Section -->
<div class="untree_co-section product-section before-footer-section">
    <div class="container">
        <div class="row">
            <!-- Product Image -->
            <div class="col-12 col-md-4 col-lg-3 mb-5">
                <div class="product-image-container">
                    <a class="product-item" href="#">
                        @if (!string.IsNullOrEmpty(Model.Product.ProductProfileUrl))
                        {
                            <img src="@Model.Product.ProductProfileUrl" 
                                 class="img-fluid product-thumbnail" 
                                 alt="@Model.Product.ProductName"
                                 loading="lazy"
                                 onerror="this.src='~/images/placeholder-product.png'; this.onerror=null;">
                        }
                        else
                        {
                            <img src="~/images/placeholder-product.png" 
                                 class="img-fluid product-thumbnail" 
                                 alt="Product image not available"
                                 loading="lazy">
                        }
                    </a>
                </div>
            </div>

            <!-- Product Details -->
            <div class="col-12 col-md-8 col-lg-9 mb-5">
                <div class="product-details">
                    <h2 class="product-title">@Model.Product.ProductName</h2>
                    
                    @if (Model.Product.IsArchived)
                        {
                            <div class="availability-badge unavailable">
                                <i class="fas fa-exclamation-circle"></i>
                                <span>Product Unavailable</span>
                            </div>
                        }
                        else
                        {
                            <div class="availability-badge available">
                                <i class="fas fa-check-circle"></i>
                                <span>Available: <strong>@Model.Product.Qty in stock</strong></span>
                            </div>
                        }
                    <div class="description-container">
                        <p class="description">@Model.Product.ProductDescription</p>
                    </div>

                    <div class="mb-4">
                        <h4 class="price">$@Model.Product.Price</h4>
                    </div>

                    @if (@Model.Product.IsArchived == false)
                    {
                        <div class="action-buttons">
                            <a class="btn btn-primary" 
                               asp-controller="Product" 
                               asp-action="AddToCart" 
                               asp-route-ProductId="@Model.Product.ProductId">
                                <i class="bi bi-cart-plus"></i> Add To Cart
                            </a>
                            <a class="btn btn-secondary">
                                <i class="bi bi-bag"></i> Order Now
                            </a>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
